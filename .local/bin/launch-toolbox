#!/bin/bash

# Start Toolbox session for a project.

TOOLBOX_DIR="$(readlink -f "${1:-.}")"
TOOLBOX_PROJECT="$(basename "$TOOLBOX_DIR")"

cd "$TOOLBOX_DIR"

[[ -f .env ]] && source .env

exec nohup gnome-terminal \
    --profile tmux \
    --title "$TOOLBOX_PROJECT" \
    -- \
    toolbox enter --container "$TOOLBOX_PROJECT" \
    &> /dev/null
