#!/bin/bash

# Start Toolbox session for a project.

DIRECTORY_NAME="$(readlink -f "${1:-.}")"
PROJECT_NAME="$(basename "$DIRECTORY_NAME")"

cd "$DIRECTORY_NAME"

[[ -f .env ]] && source .env

exec nohup gnome-terminal \
    --profile tmux \
    --title "$PROJECT_NAME" \
    -- \
    toolbox enter --container "$PROJECT_NAME" \
    &> /dev/null
